# Replace 'school.example.com' with your actual domain name
school.example.com {
    # Frontend (Next.js)
    reverse_proxy localhost:3000

    # Backend API
    handle /api/* {
        reverse_proxy localhost:8000
    }

    # API Documentation
    handle /docs {
        reverse_proxy localhost:8000
    }
    handle /openapi.json {
        reverse_proxy localhost:8000
    }

    # Static Media Files
    handle /static/* {
        reverse_proxy localhost:8000
    }

    # Enable Gzip compression
    encode gzip
}
